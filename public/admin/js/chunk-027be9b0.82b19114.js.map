{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.string.trim.js","webpack:///./src/views/customer/edit.vue?549f","webpack:///./node_modules/core-js/modules/_string-trim.js","webpack:///./src/views/customer/index.vue?59e7","webpack:///./src/views/customer/create.vue?dff4","webpack:///src/views/customer/create.vue","webpack:///./src/views/customer/create.vue?c0ff","webpack:///./src/views/customer/create.vue","webpack:///./src/views/customer/edit.vue?8165","webpack:///src/views/customer/edit.vue","webpack:///./src/views/customer/edit.vue?939e","webpack:///./src/views/customer/edit.vue","webpack:///src/views/customer/index.vue","webpack:///./src/views/customer/index.vue?3888","webpack:///./src/views/customer/index.vue","webpack:///./src/views/customer/index.vue?782e","webpack:///./node_modules/core-js/modules/_string-ws.js"],"names":["$trim","this","$export","defined","fails","spaces","space","non","ltrim","RegExp","rtrim","exporter","KEY","exec","ALIAS","exp","FORCE","fn","trim","P","F","string","TYPE","String","replace","module","exports","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","slot","_v","adminInfo","root","on","$event","createDialogFormVisible","_e","ref","changeInput","clearKeyword","model","value","tableData","callback","$$v","$set","expression","search","directives","name","rawName","staticStyle","list","indexMethod","scopedSlots","_u","key","scope","row","avatar","$store","state","online","_s","$formatUnixDate","last_activity","create_at","edit","deleteAdmin","total","page_on","handleSizeChange","handleCurrentChange","getAdmins","editItem","editDialogFormVisible","staticRenderFns","dialogFormVisible","form","formLabelWidth","cCassword","closeModal","save","data","props","Boolean","complete","Function","mounted","methods","$emit","lock","text","spinner","background","$message","error","resize","username","nickname","password","component","changeFile","uploadPercent","phone","auto_reply","isUploading","formData","Object","fileData","file","target","files","imgUrl","watch","assign","components","CreateDialog","EditDialog","page_size","keyword","loading","computed","getters","created","setTimeout","index","$confirm","confirmButtonText","cancelButtonText","center","type","item","val"],"mappings":"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","file":"js/chunk-027be9b0.82b19114.js","sourcesContent":["'use strict';\n// 21.1.3.25 String.prototype.trim()\nrequire('./_string-trim')('trim', function ($trim) {\n  return function trim() {\n    return $trim(this, 3);\n  };\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&id=7be8c9b2&scoped=true&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&id=7be8c9b2&scoped=true&lang=stylus&\"","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"mini-im-head\"},[_c('span',[_c('i',{staticClass:\"el-icon-headset\"}),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"客服管理\")])]),(_vm.adminInfo.root == 1)?_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.createDialogFormVisible = true}}},[_vm._v(\"添 加\")]):_vm._e()],1),_c('el-divider'),_c('div',{staticClass:\"search\"},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":2.1}},[_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"按关键字：\"}})],1)],1),_c('el-col',{attrs:{\"span\":5}},[_c('el-input',{attrs:{\"placeholder\":\"请输入关键词\",\"clearable\":\"\",\"prefix-icon\":\"el-icon-search\"},on:{\"change\":_vm.changeInput,\"clear\":_vm.clearKeyword},model:{value:(_vm.tableData.keyword),callback:function ($$v) {_vm.$set(_vm.tableData, \"keyword\", $$v)},expression:\"tableData.keyword\"}})],1),_c('el-col',{attrs:{\"span\":3}},[_c('el-button',{on:{\"click\":_vm.search}},[_vm._v(\"查 找\")])],1)],1)],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData.list}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"index\":_vm.indexMethod,\"label\":\"#序号\",\"width\":\"60\"}}),_c('el-table-column',{attrs:{\"prop\":\"avatar\",\"label\":\"头像\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-avatar',{attrs:{\"size\":40,\"src\":scope.row.avatar || _vm.$store.state.avatar}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"客服账号\"}}),_c('el-table-column',{attrs:{\"prop\":\"nickname\",\"label\":\"客服昵称\"}}),_c('el-table-column',{attrs:{\"prop\":\"online\",\"align\":\"center\",\"label\":\"在线状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.online == 1)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"在线\")]):_vm._e(),(scope.row.online == 2)?_c('el-tag',{attrs:{\"type\":\"warning\"}},[_vm._v(\"繁忙\")]):_vm._e(),(scope.row.online == 0)?_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(\"离线\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"prop\":\"root\",\"align\":\"center\",\"label\":\"角色\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.root == 1)?_c('el-tag',{attrs:{\"effect\":\"dark\",\"type\":\"warning\"}},[_vm._v(\"超级管理\")]):_vm._e(),(scope.row.root == 0)?_c('el-tag',[_vm._v(\"客服人员\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"prop\":\"last_activity\",\"label\":\"最后在线时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(_vm.$formatUnixDate(scope.row.last_activity, \"YYYY/MM/DD HH:mm\"))+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"create_at\",\"label\":\"创建时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(_vm.$formatUnixDate(scope.row.create_at, \"YYYY/MM/DD\"))+\"\\n      \")]}}])}),(_vm.adminInfo.root == 1)?_c('el-table-column',{attrs:{\"prop\":\"operating\",\"align\":\"center\",\"width\":\"150\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.root == 0)?_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.edit(scope.row)}}},[_vm._v(\"编 辑\")]):_vm._e(),(scope.row.root == 0)?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.deleteAdmin(scope.row)}}},[_vm._v(\"删 除\")]):_vm._e()]}}],null,false,1757062568)}):_vm._e()],1),_c('el-row',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('span',{staticStyle:{\"color\":\"#666\",\"font-size\":\"14px\"}},[_vm._v(\"共找到\"+_vm._s(_vm.tableData.total)+\"条数据\")]),_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"sizes, prev, pager, next\",\"current-page\":_vm.tableData.page_on,\"page-sizes\":[5, 10, 15, 20],\"total\":_vm.tableData.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('CreateDialog',{attrs:{\"complete\":_vm.getAdmins,\"dialogFormVisible\":_vm.createDialogFormVisible},on:{\"update:dialogFormVisible\":function($event){_vm.createDialogFormVisible=$event},\"update:dialog-form-visible\":function($event){_vm.createDialogFormVisible=$event}}}),_c('EditDialog',{attrs:{\"formData\":_vm.editItem,\"complete\":_vm.getAdmins,\"dialogFormVisible\":_vm.editDialogFormVisible},on:{\"update:dialogFormVisible\":function($event){_vm.editDialogFormVisible=$event},\"update:dialog-form-visible\":function($event){_vm.editDialogFormVisible=$event}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"width\":\"600px\",\"title\":\"添加客服\",\"show-close\":false,\"visible\":_vm.dialogFormVisible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"客服账号\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"请输入客服账号\",\"autocomplete\":\"off\"},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"客服昵称\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"请输入客服昵称\",\"autocomplete\":\"off\"},model:{value:(_vm.form.nickname),callback:function ($$v) {_vm.$set(_vm.form, \"nickname\", $$v)},expression:\"form.nickname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"登录密码\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"请输入登录密码\",\"autocomplete\":\"off\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"请输入确认密码\",\"autocomplete\":\"off\"},model:{value:(_vm.cCassword),callback:function ($$v) {_vm.cCassword=$$v},expression:\"cCassword\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.closeModal}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保 存\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-dialog  width=\"600px\"   title=\"添加客服\" :show-close=\"false\" :visible.sync=\"dialogFormVisible\" :close-on-click-modal=\"false\">\n      <el-form :model=\"form\">\n        <el-form-item label=\"客服账号\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"form.username\" placeholder=\"请输入客服账号\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"客服昵称\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"form.nickname\" placeholder=\"请输入客服昵称\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"登录密码\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"form.password\" placeholder=\"请输入登录密码\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"确认密码\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"cCassword\" placeholder=\"请输入确认密码\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"closeModal\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"save\">保 存</el-button>\n      </div>\n    </el-dialog>\n</template>\n<script>\nimport axios from \"axios\";\nexport default {\n  name: 'mini-im-create-admin',\n  data(){\n    return {\n        form: {\n          username: '',\n          nickname: '',\n          password: ''\n        },\n        cCassword: '',\n        formLabelWidth: \"80px\"\n    }\n  },\n  props:{\n    dialogFormVisible: Boolean,\n    complete: Function\n  },\n  mounted(){\n  },\n  methods: {\n    // 关闭\n    closeModal(){\n      this.$emit('update:dialogFormVisible', false);\n    },\n    // 保存\n    save() {\n      // 验证一下密码字段\n      if(this.form.username.trim() == \"\"){\n        this.$message.error(\"账号不能为空！\")\n        return;\n      }\n       if(this.form.nickname.trim() == \"\"){\n        this.$message.error(\"昵称不能为空！\")\n        return;\n      }\n      if(this.form.password.trim() == \"\"){\n        this.$message.error(\"密码不能为空！\")\n        return;\n      }\n      if(this.form.password.trim() != this.cCassword.trim()){\n        this.$message.error(\"两次密码不一致！\")\n        return;\n      }\n\n      // 验证字段 ！！ 算了其它前端不验证了\n      const loading = this.$loading({\n        lock: true,\n        text: \"保存中...\",\n        spinner: \"el-icon-loading\",\n        background: \"rgba(0, 0, 0, 0.5)\"\n      });\n      axios\n        .post(\"/admin\", this.form)\n        .then(response => {\n          try {\n            console.log(response);\n            loading.close();\n            this.$message.success(\"添加成功\");\n            this.closeModal();\n            this.resize();\n            this.complete(1);\n          } catch (e) {\n            console.log(e);\n          }\n        })\n        .catch(error => {\n          loading.close();\n          this.$message.error(error.response.data.message);\n        });\n    },\n    resize() {\n      this.cCassword = '';\n      this.form = {\n        username: '',\n        nickname: '',\n        password: ''\n      };\n    }\n  }\n}\n</script>\n<style scoped lang=\"stylus\">\n   \n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./create.vue?vue&type=template&id=56150a82&scoped=true&\"\nimport script from \"./create.vue?vue&type=script&lang=js&\"\nexport * from \"./create.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"56150a82\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"width\":\"600px\",\"title\":\"修改客服资料\",\"show-close\":false,\"visible\":_vm.dialogFormVisible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"头像\",\"label-width\":_vm.formLabelWidth}},[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":3}},[_c('div',{staticClass:\"mini-im-file-button\",attrs:{\"title\":\"点击上传图片\"}},[_c('el-avatar',{attrs:{\"size\":50,\"src\":_vm.form.avatar || _vm.$store.state.avatar}}),_c('input',{attrs:{\"onClick\":\"this.value = null\",\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":_vm.changeFile}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isUploading),expression:\"isUploading\"}],staticClass:\"mini-im-file-percent\"},[_c('span',[_vm._v(_vm._s(_vm.uploadPercent))])])],1)]),_c('el-col',{attrs:{\"span\":6}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"客服账号\",\"label-width\":_vm.formLabelWidth}},[_c('span',[_vm._v(_vm._s(_vm.form.username))])]),_c('el-form-item',{attrs:{\"label\":\"客服昵称\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"请输入客服昵称\",\"autocomplete\":\"off\"},model:{value:(_vm.form.nickname),callback:function ($$v) {_vm.$set(_vm.form, \"nickname\", $$v)},expression:\"form.nickname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"请输入登录密码\",\"autocomplete\":\"off\"},model:{value:(_vm.form.phone),callback:function ($$v) {_vm.$set(_vm.form, \"phone\", $$v)},expression:\"form.phone\"}})],1),_c('el-form-item',{attrs:{\"label\":\"自动回复语\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入自动回复语,不支持emoji，请使用简单语句描述\",\"autocomplete\":\"off\"},model:{value:(_vm.form.auto_reply),callback:function ($$v) {_vm.$set(_vm.form, \"auto_reply\", $$v)},expression:\"form.auto_reply\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.closeModal}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保 存\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog\n    width=\"600px\" \n    title=\"修改客服资料\"\n    :show-close=\"false\"\n    :visible.sync=\"dialogFormVisible\"\n    :close-on-click-modal=\"false\"\n  >\n    <el-form :model=\"form\">\n      <el-form-item label=\"头像\" :label-width=\"formLabelWidth\">\n        <el-row :gutter=\"10\">\n          <el-col :span=\"3\">\n            <div class=\"mini-im-file-button\" title=\"点击上传图片\">\n              <el-avatar\n                :size=\"50\"\n                :src=\"form.avatar || $store.state.avatar\"\n              ></el-avatar>\n              <input onClick=\"this.value = null\" @change=\"changeFile\" type=\"file\" accept=\"image/*\" />\n              <div v-show=\"isUploading\" class=\"mini-im-file-percent\">\n                <span>{{uploadPercent}}</span>\n              </div>\n            </div>\n          </el-col>\n          <el-col :span=\"6\"></el-col>\n        </el-row>\n      </el-form-item>\n      <el-form-item label=\"客服账号\" :label-width=\"formLabelWidth\">\n        <span>{{form.username}}</span>\n      </el-form-item>\n      <el-form-item label=\"客服昵称\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"form.nickname\" placeholder=\"请输入客服昵称\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"手机号\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"form.phone\" placeholder=\"请输入登录密码\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"自动回复语\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"form.auto_reply\" type=\"textarea\"  placeholder=\"请输入自动回复语,不支持emoji，请使用简单语句描述\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"closeModal\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"save\">保 存</el-button>\n    </div>\n  </el-dialog>\n</template>\n<script>\nimport axios from \"axios\";\nimport upload from '../../common/upload'\nexport default {\n  name: \"mini-im-create-admin\",\n  data() {\n    return {\n      form: {\n        phone: \"\",\n        nickname: \"\",\n        avatar: \"\",\n        auto_reply: \"\"\n      },\n      formLabelWidth: \"90px\",\n      isUploading: false,\n      uploadPercent: \"\"\n    };\n  },\n  props: {\n    dialogFormVisible: Boolean,\n    complete: Function,\n    formData: Object\n  },\n  methods: {\n    // 关闭\n    closeModal() {\n      this.$emit(\"update:dialogFormVisible\", false);\n    },\n    // 上传\n    changeFile(file) {\n\n      var fileData = file.target.files[0];\n       upload({\n         file: fileData,\n         progress: (percent) => {\n           this.isUploading = true;\n          this.uploadPercent = percent + \"%\";\n         },\n         success: (url) => {\n          this.isUploading = false;\n          this.uploadPercent = \"\";\n          this.$message.success(\"上传成功\");\n          var imgUrl = this.$store.getters.configs.upload_host + \"/\" + url\n          this.form.avatar = imgUrl;\n         },\n         error: (err)=>{\n          this.isUploading = false;\n          this.uploadPercent = \"\";\n          this.$message.error(err.message);\n         }\n       });\n\n\n    },\n    // 保存\n    save() {\n      // 验证字段 ！！ 算了其它前端不验证了\n      const loading = this.$loading({\n        lock: true,\n        text: \"保存中...\",\n        spinner: \"el-icon-loading\",\n        background: \"rgba(0, 0, 0, 0.5)\"\n      });\n      axios\n        .put(\"/admin\", this.form)\n        .then(response => {\n          try {\n            loading.close();\n            this.$message.success(\"修改成功\");\n            this.closeModal();\n            this.complete(1);\n          } catch (e) {\n            console.log(e, response);\n          }\n        })\n        .catch(error => {\n          loading.close();\n          this.$message.error(error.response.data.message);\n        });\n    }\n  },\n  watch: {\n    formData() {\n      this.form = Object.assign({}, this.form, this.formData);\n    }\n  }\n};\n</script>\n<style scoped lang=\"stylus\">\n.mini-im-file-button {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  position: relative;\n  overflow: hidden;\n\n  input {\n    font-size: 100px;\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    cursor: pointer;\n    opacity 0\n  }\n\n  cursor: pointer;\n\n  .mini-im-file-percent {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 50%;\n    background-color: rgba(0, 0, 0, 0.5);\n    color: #fff;\n    font-size: 12px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=7be8c9b2&scoped=true&\"\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edit.vue?vue&type=style&index=0&id=7be8c9b2&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7be8c9b2\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div class=\"mini-im-head\">\n      <span>\n        <i class=\"el-icon-headset\"></i>\n        <span slot=\"title\">客服管理</span>\n      </span>\n       <el-button v-if=\"adminInfo.root == 1\" @click=\"createDialogFormVisible = true\" size=\"mini\">添 加</el-button>\n    </div>\n    <el-divider />\n    <div class=\"search\">\n      <el-row :gutter=\"20\">\n        <el-col :span=\"2.1\">\n          <el-form ref=\"form\" label-width=\"120px\">\n            <el-form-item  label=\"按关键字：\"></el-form-item>\n          </el-form>\n        </el-col>\n        <el-col :span=\"5\">\n          <el-input @change=\"changeInput\" @clear=\"clearKeyword\" placeholder=\"请输入关键词\" v-model=\"tableData.keyword\" clearable prefix-icon=\"el-icon-search\"></el-input>\n        </el-col>\n        <el-col :span=\"3\">\n          <el-button @click=\"search\">查 找</el-button>\n        </el-col>\n      </el-row>\n    </div>\n    <el-table\n      :data=\"tableData.list\"\n      style=\"width: 100%\"\n      v-loading=\"loading\"\n    >\n      <el-table-column\n        type=\"index\"\n        :index=\"indexMethod\"\n        label=\"#序号\"\n        width=\"60\">\n      </el-table-column>\n      <el-table-column\n        prop=\"avatar\"\n        label=\"头像\"\n        width=\"120\">\n       <template slot-scope=\"scope\">\n          <el-avatar :size=\"40\" :src=\"scope.row.avatar || $store.state.avatar\"></el-avatar>\n        </template>\n      </el-table-column>\n       <el-table-column\n        prop=\"username\"\n        label=\"客服账号\">\n      </el-table-column>\n      <el-table-column\n        prop=\"nickname\"\n        label=\"客服昵称\">\n      </el-table-column>\n      <el-table-column\n        prop=\"online\"\n         align=\"center\"\n        label=\"在线状态\">\n        <template slot-scope=\"scope\">\n          <el-tag type=\"success\" v-if=\"scope.row.online == 1\">在线</el-tag>\n          <el-tag type=\"warning\" v-if=\"scope.row.online == 2\">繁忙</el-tag>\n          <el-tag type=\"info\" v-if=\"scope.row.online == 0\">离线</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column\n        prop=\"root\"\n         align=\"center\"\n        label=\"角色\">\n        <template slot-scope=\"scope\">\n          <el-tag effect=\"dark\" type=\"warning\" v-if=\"scope.row.root == 1\">超级管理</el-tag>\n          <el-tag v-if=\"scope.row.root == 0\">客服人员</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column\n        prop=\"last_activity\"\n        label=\"最后在线时间\">\n        <template slot-scope=\"scope\">\n          {{$formatUnixDate(scope.row.last_activity, \"YYYY/MM/DD HH:mm\")}}\n        </template>\n      </el-table-column>\n      <el-table-column\n        prop=\"create_at\"\n        label=\"创建时间\">\n        <template slot-scope=\"scope\">\n          {{$formatUnixDate(scope.row.create_at, \"YYYY/MM/DD\")}}\n        </template>\n      </el-table-column>\n      <el-table-column\n        prop=\"operating\"\n        align=\"center\"\n        width=\"150\"\n        v-if=\"adminInfo.root == 1\"\n        label=\"操作\">\n        <template slot-scope=\"scope\">\n        <el-button\n          size=\"mini\"\n          v-if=\"scope.row.root == 0\"\n          @click=\"edit(scope.row)\">编 辑</el-button>\n        <el-button\n          size=\"mini\"\n          type=\"danger\"\n          v-if=\"scope.row.root == 0\"\n          @click=\"deleteAdmin(scope.row)\">删 除</el-button>\n      </template>\n      </el-table-column>\n    </el-table>\n    <el-row type=\"flex\" style=\"margin-top: 20px;\" justify=\"space-between\">\n      <span style=\"color:#666;font-size: 14px;\">共找到{{tableData.total}}条数据</span>\n      <el-pagination\n        background\n         @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n        layout=\"sizes, prev, pager, next\"\n        :current-page=\"tableData.page_on\"\n        :page-sizes=\"[5, 10, 15, 20]\"\n        :total=\"tableData.total\">\n      </el-pagination>\n    </el-row>\n    <CreateDialog :complete=\"getAdmins\" :dialogFormVisible.sync=\"createDialogFormVisible\" />\n    <EditDialog :formData=\"editItem\" :complete=\"getAdmins\" :dialogFormVisible.sync=\"editDialogFormVisible\" />\n  </div>\n</template>\n\n<script>\nimport CreateDialog from \"./create\"\nimport EditDialog from \"./edit\"\nimport axios from 'axios'\nexport default {\n  name: \"admins\",\n  components: {\n    CreateDialog,\n    EditDialog\n  },\n  data() {\n    return {\n      tableData: {\n        list: [],\n        page_on: 1,\n        page_size: 10,\n        keyword: \"\",\n        total: 0,\n      },\n      createDialogFormVisible: false,\n      editDialogFormVisible: false,\n      loading: true,\n      editItem: {}\n    }\n  },\n  computed: {\n    adminInfo(){\n      return this.$store.getters.adminInfo\n    }\n  },\n  created(){\n    setTimeout(()=> this.getAdmins(1), 500)\n  },\n  methods: {\n     // 行号\n    indexMethod(index) {\n      return (this.tableData.page_on - 1) * this.tableData.page_size + index +1;\n    },\n    // 删除\n    deleteAdmin(item){\n      this.$confirm('您确定要删除该客服吗? 删除后不可恢复！', '温馨提示！', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        center: true,\n        type: 'warning'\n      }).then(() => {\n        axios.delete('/admin/' + item.id)\n        .then(response => {\n            console.log(response.data)\n            this.$message.success(\"删除成功\")\n            this.getAdmins(1)\n        })\n        .catch(error => {\n          this.$message.error(error.response.data.message)\n        });\n      })\n    },\n    // 编辑\n    edit(item){\n      this.editItem = item\n      this.editDialogFormVisible = true\n    },\n    // 改变每页条数\n    handleSizeChange(val) {\n      this.tableData.page_size = val\n      this.getAdmins()\n    },\n    // 分页\n    handleCurrentChange(val) {\n      this.tableData.page_on = val\n      this.getAdmins()\n    },\n    // 清空关键字\n    clearKeyword(){\n      this.getAdmins(1)\n    },\n    // 关键字input变动\n    changeInput(){\n      if(this.tableData.keyword == \"\"){\n        this.getAdmins(1)\n      }\n    },\n    // 查找\n    search(){\n      this.tableData.keyword = this.tableData.keyword.trim()\n      if(!this.tableData.keyword) return\n      this.getAdmins(1)\n    },\n    // 获取数据\n    getAdmins(index){\n      if(index) this.tableData.page_on = index\n      const {page_on, page_size, keyword} = this.tableData\n      axios.post('/admin/list', {page_on, page_size, keyword, \"online\": 3})\n      .then(response => {\n          this.loading = false\n          this.tableData = response.data.data\n      })\n      .catch(error => {\n        this.loading = false\n        this.$message.error(error.response.data.message)\n      });\n    }\n  }\n};\n</script>\n<style lang=\"stylus\" scoped>\n  .mini-im-head{\n    height 30px\n    display flex\n    align-items center\n    font-size 20px\n    justify-content space-between\n    color #666\n    i{\n      margin-right 5px\n    }\n  }\n  .el-select .el-input {\n    width: 130px;\n  }\n  .input-with-select .el-input-group__prepend {\n    background-color: #fff;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=65c494d4&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=65c494d4&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65c494d4\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=65c494d4&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=65c494d4&lang=stylus&scoped=true&\"","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n"],"sourceRoot":""}